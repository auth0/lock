.auth0-lock
  @require "normalize"

@require "animate.css"
@require "transitions.css"
@require "social_icons.css"

// Breakpoints mixin
breakpoint(point, value = 0)
  if point == "mobile"
    @media (min-width: 481px)
      {block}

  else if point == "mobile-landscape"
    @media (min-width: 568px)
      {block}

  else if point == "tablet"
    @media (min-width: 768px)
      {block}

  else if point == "desktop"
    @media (min-width: 992px)
      {block}

  else if point == "retina-only"
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)
      {block}

  else
    @media (min-width: value)
      {block}


@media screen and (max-width: 480px)
  html.auth0-lock-html body
    & > *
      display none

    .auth0-lock-container
      background white
      display block!important


// Lock base style


.auth0-lock.auth0-lock
  &, *
    -webkit-box-sizing initial
    -moz-box-sizing initial
    box-sizing initial

  .auth0-global-grobal-error
    background #F04848
    color white
    text-align center
    padding 6px 20px
    line-height 1.6
    font-size 12px

    span
      -webkit-animation-delay .2s
      animation-delay .2s

  .global-error
    position fixed
    bottom 20px
    left 50%
    -webkit-transform translateX(-50%)
    transform translateX(-50%)
    width 177px
    text-align center
    +breakpoint("tablet")
      width auto
      left auto
      right 20px
      -webkit-transform none
      transform none

.auth0-lock.auth0-lock
  font-family "Avenir Next", Avenir, -apple-system, BlinkMacSystemFont, Roboto, Hevetica, sans-serif
  text-rendering optimizeLegibility
  pointer-events none
  position fixed
  bottom 0
  left 0
  width 100%
  height 100%
  right 0
  z-index 1000000
  +breakpoint("mobile")
    display table

  a
    text-decoration none
    &:active, &:focus
      outline none

  input:focus, button:focus
    outline none

  .auth0-lock-overlay
    background radial-gradient(lighten(#222228, 15%), #111118) rgba(34,34,40, .94)
    position fixed
    top 0
    bottom 0
    right 0
    left 0
    z-index -1
    opacity 0
    -webkit-transition opacity .2s ease-in .4s
    transition opacity .2s ease-in .4s

  .auth0-lock-center
    +breakpoint("mobile")
      vertical-align middle
      display table-cell
      margin auto

  .auth0-lock-widget
    background white
    width 300px
    opacity 0
    -webkit-transform translateY(100%) scale(.8)
    transform translateY(100%) scale(.8)
    -webkit-transition-timing-function cubic-bezier(.3, 0, 0, 1.4)
    transition-timing-function cubic-bezier(.3, 0, 0, 1.4)
    margin 0 auto
    border-radius 5px

    +breakpoint("mobile")
      -webkit-transition -webkit-transform .4s, opacity .3s
      transition transform .4s, opacity .3s

  .auth0-lock-widget-container
    background transparent
    position relative
    border-radius 5px
    overflow hidden

  .auth0-lock-cred-pane
    height 100%
    border-radius 5px
    overflow hidden
    &.horizontal-fade-leave
      .auth0-lock-content, .auth0-lock-terms
        opacity .3
        pointer-events none


  // Lock header content


  .auth0-lock-header
    text-align center
    padding 14px 14px 14px 14px
    color #333
    position relative
    background #fff
    height 90px

  .auth0-lock-close-button, .auth0-lock-back-button
    background white
    border-radius 100px
    height 10px
    width 10px
    position absolute
    top 14px
    right 14px
    box-shadow 0 1px 3px rgba(0,0,0,.1)
    color #333
    z-index 100
    border 6px solid white
    cursor pointer
    line-height 0
    polygon
      fill #373737

  .auth0-lock-back-button
    left 14px

  .auth0-lock-header-avatar
    height 80px
    width 80px
    display block
    border-radius 100px
    margin -16px auto 0
    position absolute
    left 0
    right 0
    z-index 1000
    box-shadow 0 1px 2px rgba(0,0,0,.4)
    -webkit-animation fadeIn .75s both
    animation fadeIn .75s both
    +breakpoint("tablet")
      -webkit-animation fadeInDown .75s both
      animation fadeInDown .75s both

  .auth0-lock-header-bg
    position absolute
    height 118px
    width 100%
    overflow hidden
    top 0
    left 0
    pointer-events none
    +breakpoint("mobile")
      background rgba(#f1f1f1,.8)

    .auth0-lock-header-bg-blur
      display none
      height 100%
      width 100%
      border-top-left-radius 5px
      border-top-right-radius 5px
      -webkit-filter blur(40px) grayscale(1)
      -ms-filter blur(40px) grayscale(1)
      filter blur(40px) grayscale(1)
      -webkit-backdrop-filter: blur(0);
      background-color #fff
      background-position center
      background-repeat no-repeat
      background-size 300px
      opacity 0
      -webkit-transition 0s ease 0s
      transition 0s ease 0s

      &.auth0-lock-no-grayscale
        -webkit-filter blur(30px)
        -ms-filter blur(30px)
        filter blur(30px)
        -webkit-backdrop-filter: blur(0);
        background-position center
        background-size 800px

    &.auth0-lock-blur-support
      .auth0-lock-header-bg-blur
        +breakpoint("mobile")
          display block

    .auth0-lock-header-bg-solid
      height 100%
      opacity .08

  .auth0-lock-header-welcome
    font-size 18px
    position relative

  .auth0-lock-header-logo
    height 55px
    display inline-block
    margin 0 0 10px
    vertical-align middle

  .auth0-lock-firstname
    font-size 18px
    margin-top 64px

  .auth0-lock-name
    font-size 22px


  // Lock body content


  .auth0-lock-content
    padding 30px
    -webkit-box-sizing border-box
    -moz-box-sizing border-box
    box-sizing border-box

  .auth0-lock-form
    display block
    -webkit-animation fadeIn .2s
    animation fadeIn .2s

    h2
      font-size 22px
      font-weight normal
      text-align center
      margin 0 0 15px
      color black

    p
      font-size 13px
      line-height 1.8
      text-align center
      margin-top 0
      margin-bottom 20px
      color #666

    .auth0-lock-did-not-receive-code
      margin 0

      .auth0-lock-did-not-receive-code-link
        font-size 11px
        color #333332
        margin-bottom 0

  .auth0-lock-input-block
    margin-bottom 15px
    +breakpoint("mobile")
      margin-bottom 10px

    &:last-child
      margin-bottom 0

  .auth0-lock-input-wrap
    border-radius 3px
    border 1px solid #f1f1f1
    position relative
    background #f1f1f1
    padding-left 40px
    -webkit-transition border-color .8s
    transition border-color .8s

    .auth0-lock-icon-arrow
      position absolute
      right 15px
      top 14px

    .auth0-lock-icon
      position absolute
      font-size 12px
      top 16px
      left 14px
      width 14px
      height 10px
      path
        fill #666

      &.auth0-lock-icon-mobile
        width 9px
        height 14px
        top 14px
        left 16px
      &.auth0-lock-icon-location
        width 14px
        height 14px
        top 12px
        left 13px
      &.auth0-lock-icon-box
        width 12px
        height 14px
        top 13px
        left 14px

    &.auth0-lock-focused
      border-color #A0A0A0

    .auth0-lock-input
      border 0
      padding 0 14px
      right 0
      height 40px
      font-size 13px
      width 100%
      border-radius 0 2px 2px 0
      -webkit-box-sizing border-box
      -moz-box-sizing border-box
      box-sizing border-box
      position relative
      color #727578

      &.animated
        -webkit-animation-duration .5s
        animation-duration .5s

      &.auth0-lock-input-location
        background-color #F9F9F9
        text-align left

  .auth0-lock-error .auth0-lock-input-wrap
    border-color red


  // Lock terms content


  .auth0-lock-terms
    background #EEE
    text-align center
    display block
    font-size 12px
    color #666
    line-height 22px
    padding 10px 30px
    position relative
    a
      color #000


  //Lock submit content


  .auth0-lock-submit
    border 0
    padding 14px
    display block
    -webkit-box-sizing border-box
    box-sizing border-box
    width 100%
    overflow hidden
    border-radius 0 0 5px 5px

    span
      display inline-block
      -webkit-transition .2s ease-in-out
      transition .2s ease-in-out
      svg
        vertical-align middle

    +breakpoint("mobile")
      &:hover
        span
          -webkit-transform scale(1.05)
          transform scale(1.05)

    &:focus
      box-shadow inset 0 0 100px 20px rgba(black,.2)

    &[disabled]
      background darken(#EA5323, 20%)


  .auth0-loading-container
    position relative
    display none

    .auth0-loading
      position absolute
      top 4px
      left 44%
      width 30px
      height 30px
      border-width 2px
      border-style solid
      border-color rgba(0,0,0,.4) rgba(0,0,0,.4) rgba(0,0,0,.2) rgba(0,0,0,.2)
      opacity .9
      border-radius 20px
      -webkit-animation rotate 1s linear infinite
      animation rotate 1s linear infinite


  // Content mode loading


  &.auth0-lock-mode-loading

    .auth0-lock-content, .auth0-lock-terms
      opacity .3
      pointer-events none

    .auth0-lock-submit
      background-color #eee!important
      -webkit-transition background .5s ease
      transition background .5s ease
      cursor initial
      pointer-events none

      span
        -webkit-animation fadeOutDownBig 1s both
        animation fadeOutDownBig 1s both

    .auth0-loading-container
      -webkit-animation fadeInDownBig 1s both
      animation fadeInDownBig 1s both
      display block

    .auth0-lock-back-button
      opacity 0
      visibility hidden
      -webkit-transition .25s
      transition .25s


  // When showing auxiliary pane


  &.auth0-lock-auxiliary
    .auth0-lock-header-avatar
      -webkit-animation fadeOut .3s both
      animation fadeOut .3s both

    .auth0-lock-content, .auth0-lock-terms, .auth0-lock-submit
      opacity .3
      pointer-events none

    .auth0-lock-back-button
      opacity 0
      visibility hidden
      -webkit-transition .25s
      transition .25s


  // Lock country numbers


  .auth0-lock-select-country
    background-color white
    position absolute
    padding 0
    font-size 14px
    color #666
    bottom 0
    top 0
    right 0
    left 0
    border-radius 5px
    overflow hidden
    z-index 200

    .auth0-lock-back-button
      opacity 1
      visibility visible
      top 19px

    .auth0-lock-search
      background-color #E3E5E9
      padding 10px

    .auth0-lock-input-wrap
      margin 0
      border none
      margin-left 40px

    .auth0-lock-icon
      width 16px
      height 16px
      top 12px
      left 9px
      z-index 1

    .auth0-lock-input-search
      border none
      color black

    .auth0-lock-list-code
      position relative
      height calc(100% - 60px)
      overflow-y scroll
      ul
        margin 0
        padding 0
      li
        list-style none
        text-align left
        border-bottom 1px solid #EEE
        cursor pointer
        color black
        font-size 14px
        padding 15px 20px
        margin 0
        text-overflow ellipsis
        width: 100%
        white-space nowrap
        overflow hidden
        box-sizing border-box
        +breakpoint("mobile")
          padding 10px 20px
        &.auth0-lock-list-code-highlighted
          background-color #2EB5FF
          color white


  // Lock confirmation content


  .auth0-lock-confirmation
    background-color white
    position absolute
    text-align center
    line-height 2
    font-size 14px
    color #666
    width 100%
    height 100%
    top 0
    left 0
    z-index 200
    border-radius 5px
    .auth0-lock-confirmation-content
      width 100%
      top 50%
      left 50%
      -webkit-transform translate(-50%,-50%)
      transform translate(-50%,-50%)
      position absolute

    p
      margin-bottom 6px

    a
      display block
      font-weight 500
      color #09c
      svg
        width 15px
        height 16px
        margin-bottom -4px
        margin-left 0px
        display inline-block
        -webkit-transition -webkit-transform 1s ease
        transition transform 1s ease
        -webkit-transform rotate(120deg)
        transform rotate(120deg)
        path
          fill #09c

      &:hover svg
        -webkit-transform rotate(490deg)
        transform rotate(490deg)

    .auth0-lock-sent-label
      color green
      -webkit-animation fadeIn 1s both
      animation fadeIn 1s both
      font-weight 600

    .auth0-lock-sent-failed-label
      color red
      -webkit-animation fadeIn 1s both
      animation fadeIn 1s both
      font-weight 600

    .checkmark__circle
      stroke-dasharray 166
      stroke-dashoffset 166
      stroke-width 2
      stroke-miterlimit 10
      stroke #7ac142
      fill none
      -webkit-animation stroke 0.6s .4s cubic-bezier(0.65, 0, 0.45, 1) forwards
      animation stroke 0.6s .4s cubic-bezier(0.65, 0, 0.45, 1) forwards

    .checkmark
      width 56px
      height 56px
      border-radius 50%
      display block
      stroke-width 2
      stroke #fff
      stroke-miterlimit 10
      margin 0 auto
      box-shadow inset 0px 0px 0px #7ac142
      -webkit-animation fill .4s ease-in-out .7s forwards, scale .3s ease-in-out 1.1s both
      animation fill .4s ease-in-out .7s forwards, scale .3s ease-in-out 1.1s both

    .checkmark__check
      transform-origin 50% 50%
      // stroke-dasharray 48
      // stroke-dashoffset 48
      // -webkit-animation stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 1s forwards
      // animation stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 1s forwards

  .auth0-lock-forgot-link
    font-size 12px
    display block
    text-align center
    margin 30px 0 0 0
    color #5C666F

  // Lock badge bottom link

  .auth0-lock-badge-bottom
    -webkit-transition -webkit-transform .5s ease 1s, opacity .2s ease 0s
    transition transform .5s ease 1s, opacity .2s ease 0s
    -webkit-transform translateY(-200%) scale(.8)
    transform translateY(-200%) scale(.8)
    position absolute
    left 0
    right 0
    opacity 0
    z-index -1
    text-align center
    margin 20px auto 0
    width 100%
    max-width 300px

    .auth0-lock-badge
      display inline-block
      svg
        vertical-align middle

      &:hover
        svg
          g#Lock
            fill #EB5424
            fill-opacity 1


  // Opened in modal


  &.auth0-lock-opened
    opacity 1
    pointer-events auto

    //mobile view
    @media screen and (max-width: 480px)
      position absolute

    .auth0-lock-overlay
      opacity .9
      -webkit-transition opacity .3s ease-in 0s
      transition opacity .3s ease-in 0s

      //mobile view
      @media screen and (max-width: 480px)
        display none

    .auth0-lock-header-bg .auth0-lock-header-bg-blur
      opacity .4
      -webkit-transition 1s ease 1s
      transition 1s ease 1s

    .auth0-lock-header-avatar
      //mobile view
      @media screen and (max-width: 480px)
        width 70px
        height 70px
        margin 10px auto 0

    .auth0-lock-firstname
      @media screen and (max-width: 480px)
        margin-top 72px

    .auth0-lock-widget
      opacity 1
      -webkit-transform translateY(0%) scale(1)
      transform translateY(0%) scale(1)

      +breakpoint("mobile")
        -webkit-transition -webkit-transform .6s, opacity .6s
        transition transform .6s, opacity .6s
        -webkit-transition-delay .5s
        transition-delay .5s
        box-shadow 0 0 40px 4px #111118

      // mobile view
      @media screen and (max-width: 480px)
        width 100%
        height 100%
        min-height 480px
        position absolute
        top 0
        bottom 0
        border-radius 0

    .auth0-lock-widget-container
      //mobile view
      @media screen and (max-width: 480px)
        height 100%
        border-radius 0

    .auth0-lock-cred-pane
      //mobile view
      @media screen and (max-width: 480px)
        min-height 480px
        border-radius 0

    .auth0-lock-content
      //mobile view
      @media screen and (max-width: 480px)
        width 100%
        position absolute
        top 53.5%
        -webkit-transform translateY(-50%)
        transform translateY(-50%)

      .auth0-lock-form p
        @media screen and (max-width: 480px)
          font-size 14px


    .auth0-lock-terms
      @media screen and (max-width: 480px)
        position absolute
        bottom 70px
        width 100%
        -webkit-box-sizing border-box
        -moz-box-sizing border-box
        box-sizing border-box

    .auth0-lock-submit
      //mobile view
      @media screen and (max-width: 480px)
        position absolute
        bottom 0
        border-radius 0

    .auth0-lock-badge-bottom
      -webkit-transform translateY(0%) scale(1)
      transform translateY(0%) scale(1)
      -webkit-transition -webkit-transform 1.2s ease, opacity 1.2s ease
      transition transform 1.2s ease, opacity 1.2s ease
      -webkit-transition-delay 1s
      transition-delay 1s
      opacity 1

      //mobile view
      @media screen and (max-width: 480px)
        display none

    .auth0-lock-confirmation
      //mobile view
      @media screen and (max-width: 480px)
        border-radius 0


  // Opened in frame


  &.auth0-lock-opened-in-frame
    opacity 1
    pointer-events auto
    position relative
    width auto
    margin-left auto
    margin-right auto

    .auth0-lock-header-bg .auth0-lock-header-bg-blur
      opacity .4
      -webkit-transition 1s ease 1s
      transition 1s ease 1s
      &.auth0-lock-no-grayscale
        opacity .5

    .auth0-lock-widget
      opacity 1
      -webkit-transform translateY(0%) scale(1)
      transform translateY(0%) scale(1)
      -webkit-transition -webkit-transform .6s, opacity .6s
      transition transform .6s, opacity .6s
      -webkit-transition-delay .5s
      transition-delay .5s
      margin auto

    .auth0-lock-badge-bottom
      -webkit-transform translateY(0%)  scale(1)
      transform translateY(0%)  scale(1)
      -webkit-transition -webkit-transform 1.2s ease 1s, opacity 1.2s ease 1s
      transition transform 1.2s ease 1s, opacity 1.2s ease 1s
      opacity 1

    .global-error
      position absolute
      display none


// Keyframes

@-webkit-keyframes stroke {
  100% {
    stroke-dashoffset: 0;
  }
}

@keyframes stroke {
  100% {
    stroke-dashoffset: 0;
  }
}

@-webkit-keyframes scale {
  0%, 100% {
    -webkit-transform: none;
  }
  50% {
    -webkit-transform: scale3d(1.1, 1.1, 1);
  }
}

@keyframes scale {
  0%, 100% {
    transform: none;
  }
  50% {
    transform: scale3d(1.1, 1.1, 1);
  }
}

@-webkit-keyframes fill {
  100% {
    box-shadow: inset 0px 0px 0px 30px #7ac142;
  }
}

@keyframes fill {
  100% {
    box-shadow: inset 0px 0px 0px 30px #7ac142;
  }
}

@keyframes rotate
  0%{transform: rotate(0deg);}
  100%{transform: rotate(360deg);}

@-webkit-keyframes rotate
  0%{-webkit-transform: rotate(0deg);}
  100%{-webkit-transform: rotate(360deg);}

// mixed modes

.auth0-lock .auth0-lock-form
  p.auth0-lock-pane-separator
    margin 16px 0 15px

// social

// start - show loading properly only social buttons
#social-container.lock-container
  .auth0-lock-mode-loading
    .auth0-lock-content
      opacity 1
      .auth0-lock-social-buttons-container
        opacity .3
// end - show loading properly only social buttons

.auth0-lock
  .auth-lock-small-social-buttons-header
    margin-bottom 11px!important
    font-size 14px!important

  .auth-lock-social-buttons-pane
    position relative
    .auth0-loading-container
      -webkit-animation fadeIn .75s ease-in-out!important
      animation fadeIn .75s ease-in-out!important
      position absolute
      width 54px
      height 54px
      top 50%
      left 50%
      -webkit-transform translate(-50%,-50%)
      transform translate(-50%,-50%)
      .auth0-loading
        width 50px
        height 50px
        border-radius 50%
        top 0
        left 0
        opacity 1

  .auth0-lock-social-buttons-container
    text-align center

  .auth0-lock-social-button
    border 0
    padding 0
    display inline-block
    -webkit-box-sizing border-box
    box-sizing border-box
    overflow hidden
    border-radius 3px
    margin 4px
    position relative
    width 40px
    height 40px

    .auth0-lock-social-button-icon
      width 40px
      height 40px
      position absolute
      top 0
      left 0
      transition background-color 0.3s
      -webkit-transition background-color 0.3s

    &:hover, &:focus
      .auth0-lock-social-button-icon
        background-color rgba(0, 0, 0, .3)

    .auth0-lock-social-button-text
      display none

    &.auth0-lock-social-big-button
      display block
      margin 0 0 8px 0
      width 100%

      &:last-child
        margin-bottom 0

      .auth0-lock-social-button-icon
        background-color rgba(0, 0, 0, .3)

      .auth0-lock-social-button-text
        -webkit-box-sizing border-box
        box-sizing border-box
        display block
        width 100%
        padding-left 54px
        line-height 40px
        text-align left
        text-transform uppercase
        font-size 10px
        font-weight 600
        letter-spacing .7px
        color #fff
        transition background 0.3s
        -webkit-transition background 0.3s

      &:hover, &:focus
        .auth0-lock-social-button-icon
          background-color rgba(0, 0, 0, .3)

        .auth0-lock-social-button-text
          background-color rgba(0, 0, 0, .3)
